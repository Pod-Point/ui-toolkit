'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.getMaxHeight = getMaxHeight;
exports.show = show;
exports.hide = hide;
exports.complete = complete;
function getMaxHeight(element) {
    var prevHeight = element.style.height;
    element.style.height = 'auto';
    var maxHeight = getComputedStyle(element).height;
    element.style.height = prevHeight;
    element.offsetHeight;
    return maxHeight;
}

function show(element, trigger) {
    element.classList.remove('collapse');
    element.classList.add('collapsing');
    trigger.classList.remove('collapsed');
    trigger.setAttribute('aria-expanded', true);

    element.style.height = getMaxHeight(element);

    complete(element);
}

function hide(element, trigger) {
    element.classList.remove('collapse');
    element.classList.remove('in');
    element.classList.add('collapsing');
    trigger.classList.add('collapsed');
    trigger.setAttribute('aria-expanded', false);

    // Reset element's height
    element.style.height = getComputedStyle(element).height;
    element.offsetHeight; // force repaint
    element.style.height = '0px';

    complete(element);
}

function complete(element) {
    element.classList.remove('collapsing');
    element.classList.add('collapse');
    element.setAttribute('aria-expanded', false);

    // Check whether the element is unhidden
    if (element.style.height !== '0px') {
        element.classList.add('in');
        element.style.height = 'auto';
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxpdGllcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztRQUFnQjtRQVNBO1FBV0E7UUFlQTtBQW5DVCxTQUFTLFlBQVQsQ0FBc0IsT0FBdEIsRUFBK0I7QUFDbEMsUUFBSSxhQUFhLFFBQVEsS0FBUixDQUFjLE1BQWQsQ0FEaUI7QUFFbEMsWUFBUSxLQUFSLENBQWMsTUFBZCxHQUF1QixNQUF2QixDQUZrQztBQUdsQyxRQUFJLFlBQVksaUJBQWlCLE9BQWpCLEVBQTBCLE1BQTFCLENBSGtCO0FBSWxDLFlBQVEsS0FBUixDQUFjLE1BQWQsR0FBdUIsVUFBdkIsQ0FKa0M7QUFLbEMsWUFBUSxZQUFSLENBTGtDO0FBTWxDLFdBQU8sU0FBUCxDQU5rQztDQUEvQjs7QUFTQSxTQUFTLElBQVQsQ0FBYyxPQUFkLEVBQXVCLE9BQXZCLEVBQWdDO0FBQ25DLFlBQVEsU0FBUixDQUFrQixNQUFsQixDQUF5QixVQUF6QixFQURtQztBQUVuQyxZQUFRLFNBQVIsQ0FBa0IsR0FBbEIsQ0FBc0IsWUFBdEIsRUFGbUM7QUFHbkMsWUFBUSxTQUFSLENBQWtCLE1BQWxCLENBQXlCLFdBQXpCLEVBSG1DO0FBSW5DLFlBQVEsWUFBUixDQUFxQixlQUFyQixFQUFzQyxJQUF0QyxFQUptQzs7QUFNbkMsWUFBUSxLQUFSLENBQWMsTUFBZCxHQUF1QixhQUFhLE9BQWIsQ0FBdkIsQ0FObUM7O0FBUW5DLGFBQVMsT0FBVCxFQVJtQztDQUFoQzs7QUFXQSxTQUFTLElBQVQsQ0FBYyxPQUFkLEVBQXVCLE9BQXZCLEVBQWdDO0FBQ25DLFlBQVEsU0FBUixDQUFrQixNQUFsQixDQUF5QixVQUF6QixFQURtQztBQUVuQyxZQUFRLFNBQVIsQ0FBa0IsTUFBbEIsQ0FBeUIsSUFBekIsRUFGbUM7QUFHbkMsWUFBUSxTQUFSLENBQWtCLEdBQWxCLENBQXNCLFlBQXRCLEVBSG1DO0FBSW5DLFlBQVEsU0FBUixDQUFrQixHQUFsQixDQUFzQixXQUF0QixFQUptQztBQUtuQyxZQUFRLFlBQVIsQ0FBcUIsZUFBckIsRUFBc0MsS0FBdEM7OztBQUxtQyxXQVFuQyxDQUFRLEtBQVIsQ0FBYyxNQUFkLEdBQXVCLGlCQUFpQixPQUFqQixFQUEwQixNQUExQixDQVJZO0FBU25DLFlBQVEsWUFBUjtBQVRtQyxXQVVuQyxDQUFRLEtBQVIsQ0FBYyxNQUFkLEdBQXVCLEtBQXZCLENBVm1DOztBQVluQyxhQUFTLE9BQVQsRUFabUM7Q0FBaEM7O0FBZUEsU0FBUyxRQUFULENBQWtCLE9BQWxCLEVBQTJCO0FBQzlCLFlBQVEsU0FBUixDQUFrQixNQUFsQixDQUF5QixZQUF6QixFQUQ4QjtBQUU5QixZQUFRLFNBQVIsQ0FBa0IsR0FBbEIsQ0FBc0IsVUFBdEIsRUFGOEI7QUFHOUIsWUFBUSxZQUFSLENBQXFCLGVBQXJCLEVBQXNDLEtBQXRDOzs7QUFIOEIsUUFNMUIsUUFBUSxLQUFSLENBQWMsTUFBZCxLQUF5QixLQUF6QixFQUFnQztBQUNoQyxnQkFBUSxTQUFSLENBQWtCLEdBQWxCLENBQXNCLElBQXRCLEVBRGdDO0FBRWhDLGdCQUFRLEtBQVIsQ0FBYyxNQUFkLEdBQXVCLE1BQXZCLENBRmdDO0tBQXBDO0NBTkciLCJmaWxlIjoidXRpbGl0aWVzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGdldE1heEhlaWdodChlbGVtZW50KSB7XG4gICAgdmFyIHByZXZIZWlnaHQgPSBlbGVtZW50LnN0eWxlLmhlaWdodDtcbiAgICBlbGVtZW50LnN0eWxlLmhlaWdodCA9ICdhdXRvJztcbiAgICB2YXIgbWF4SGVpZ2h0ID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5oZWlnaHQ7XG4gICAgZWxlbWVudC5zdHlsZS5oZWlnaHQgPSBwcmV2SGVpZ2h0O1xuICAgIGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgIHJldHVybiBtYXhIZWlnaHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG93KGVsZW1lbnQsIHRyaWdnZXIpIHtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2NvbGxhcHNlJyk7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdjb2xsYXBzaW5nJyk7XG4gICAgdHJpZ2dlci5jbGFzc0xpc3QucmVtb3ZlKCdjb2xsYXBzZWQnKTtcbiAgICB0cmlnZ2VyLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIHRydWUpO1xuXG4gICAgZWxlbWVudC5zdHlsZS5oZWlnaHQgPSBnZXRNYXhIZWlnaHQoZWxlbWVudCk7XG5cbiAgICBjb21wbGV0ZShlbGVtZW50KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhpZGUoZWxlbWVudCwgdHJpZ2dlcikge1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnY29sbGFwc2UnKTtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2luJyk7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdjb2xsYXBzaW5nJyk7XG4gICAgdHJpZ2dlci5jbGFzc0xpc3QuYWRkKCdjb2xsYXBzZWQnKTtcbiAgICB0cmlnZ2VyLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIGZhbHNlKTtcblxuICAgIC8vIFJlc2V0IGVsZW1lbnQncyBoZWlnaHRcbiAgICBlbGVtZW50LnN0eWxlLmhlaWdodCA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkuaGVpZ2h0O1xuICAgIGVsZW1lbnQub2Zmc2V0SGVpZ2h0OyAvLyBmb3JjZSByZXBhaW50XG4gICAgZWxlbWVudC5zdHlsZS5oZWlnaHQgPSAnMHB4JztcblxuICAgIGNvbXBsZXRlKGVsZW1lbnQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcGxldGUoZWxlbWVudCkge1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnY29sbGFwc2luZycpO1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnY29sbGFwc2UnKTtcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIGZhbHNlKTtcblxuICAgIC8vIENoZWNrIHdoZXRoZXIgdGhlIGVsZW1lbnQgaXMgdW5oaWRkZW5cbiAgICBpZiAoZWxlbWVudC5zdHlsZS5oZWlnaHQgIT09ICcwcHgnKSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaW4nKTtcbiAgICAgICAgZWxlbWVudC5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG4gICAgfVxufVxuIl19